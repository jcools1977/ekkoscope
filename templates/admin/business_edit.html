{% extends "admin/base.html" %}

{% block title %}Edit {{ business.name }} - EkkoScope Admin{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Edit Business</h1>
    <p>Update business profile for {{ business.name }}</p>
</div>

{% if error %}
<div class="alert alert-error">{{ error }}</div>
{% endif %}

<div class="card">
    <div class="card-header">
        <h2>Business Profile</h2>
    </div>
    
    <form method="POST" action="/admin/business/{{ business.id }}/edit">
        <div class="form-group">
            <label for="name">Company Name</label>
            <input type="text" id="name" name="name" value="{{ business.name }}" required>
        </div>
        
        <div class="form-group">
            <label for="primary_domain">Primary Domain</label>
            <input type="text" id="primary_domain" name="primary_domain" value="{{ business.primary_domain }}" required>
            <small>Main website domain (e.g., example.com)</small>
        </div>
        
        <div class="form-group">
            <label for="extra_domains">Extra Domains</label>
            <input type="text" id="extra_domains" name="extra_domains" value="{{ business.extra_domains | join(', ') if business.extra_domains else '' }}">
            <small>Comma-separated list of additional domains</small>
        </div>
        
        <div class="form-group">
            <label for="business_type">Business Type</label>
            <select id="business_type" name="business_type">
                <option value="local_service" {% if business.business_type == 'local_service' %}selected{% endif %}>Local Service</option>
                <option value="ecommerce" {% if business.business_type == 'ecommerce' or business.business_type == 'ecom' %}selected{% endif %}>E-commerce</option>
                <option value="saas" {% if business.business_type == 'saas' %}selected{% endif %}>SaaS</option>
                <option value="agency" {% if business.business_type == 'agency' %}selected{% endif %}>Agency</option>
                <option value="manufacturer" {% if business.business_type == 'manufacturer' %}selected{% endif %}>Manufacturer</option>
                <option value="distributor" {% if business.business_type == 'distributor' %}selected{% endif %}>Distributor</option>
                <option value="professional_service" {% if business.business_type == 'professional_service' %}selected{% endif %}>Professional Service</option>
                <option value="other" {% if business.business_type == 'other' %}selected{% endif %}>Other</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="categories">Categories / Products / Services</label>
            <input type="text" id="categories" name="categories" value="{{ business.categories | join(', ') if business.categories else '' }}">
            <small>Comma-separated list</small>
        </div>
        
        <div class="form-group">
            <label for="regions">Service Regions</label>
            <input type="text" id="regions" name="regions" value="{{ business.regions | join(', ') if business.regions else '' }}">
            <small>Comma-separated list</small>
        </div>
        
        <div class="form-group">
            <label for="contact_name">Contact Name</label>
            <input type="text" id="contact_name" name="contact_name" value="{{ business.contact_name or '' }}">
        </div>
        
        <div class="form-group">
            <label for="contact_email">Contact Email</label>
            <input type="email" id="contact_email" name="contact_email" value="{{ business.contact_email or '' }}">
        </div>
        
        <div class="actions">
            <button type="submit" class="btn btn-primary">Save Changes</button>
            <a href="/admin/business/{{ business.id }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
